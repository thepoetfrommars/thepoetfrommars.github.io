<!DOCTYPE html>
<html lang="en" data-theme="classic">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ranojoy Dutta - Experience</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&family=VT323&family=Silkscreen:wght@400;700&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js"></script>
    <style>
        /* Theme Variables */
        html[data-theme="classic"] {
            --text-color: #000000;
            --bg-color: #ffffff;
            --accent-bg: #f0f0f0;
            --border-color: #000000;
            --hover-bg: #000000;
            --hover-text: #ffffff;
            --heading-color: #000000;
            --console-glow: rgba(0, 0, 0, 0.2);
            --bg-dots-color: rgba(0, 0, 0, 0.1);
            --bg-star-color: rgba(0, 0, 0, 0.15);
        }

        html[data-theme="gameboy"] {
            --text-color: #0f380f;
            --bg-color: #9bbc0f;
            --accent-bg: #8bac0f;
            --border-color: #0f380f;
            --hover-bg: #0f380f;
            --hover-text: #9bbc0f;
            --heading-color: #0f380f;
            --console-glow: rgba(15, 56, 15, 0.3);
            --bg-dots-color: rgba(15, 56, 15, 0.15);
            --bg-star-color: rgba(15, 56, 15, 0.2);
        }

        html[data-theme="terminal"] {
            --text-color: #33ff33;
            --bg-color: #000000;
            --accent-bg: #0a0a0a;
            --border-color: #33ff33;
            --hover-bg: #33ff33;
            --hover-text: #000000;
            --heading-color: #33ff33;
            --console-glow: rgba(51, 255, 51, 0.3);
            --bg-dots-color: rgba(51, 255, 51, 0.15);
            --bg-star-color: rgba(51, 255, 51, 0.2);
        }

        html[data-theme="commodore"] {
            --text-color: #a0a0ff;
            --bg-color: #4040c0;
            --accent-bg: #5050d0;
            --border-color: #a0a0ff;
            --hover-bg: #a0a0ff;
            --hover-text: #4040c0;
            --heading-color: #ffffff;
            --console-glow: rgba(160, 160, 255, 0.4);
            --bg-dots-color: rgba(255, 255, 255, 0.2);
            --bg-star-color: rgba(255, 255, 255, 0.3);
        }

        html[data-theme="modern"] {
            --text-color: #2c3e50;
            --bg-color: #f8f9fa;
            --accent-bg: #e9ecef;
            --border-color: #6c757d;
            --hover-bg: #2c3e50;
            --hover-text: #ffffff;
            --heading-color: #2c3e50;
            --console-glow: rgba(44, 62, 80, 0.2);
            --bg-dots-color: rgba(44, 62, 80, 0.1);
            --bg-star-color: rgba(44, 62, 80, 0.15);
        }

        html[data-theme="cyberpunk"] {
            --text-color: #00ff9f;
            --bg-color: #1a1a2e;
            --accent-bg: #16213e;
            --border-color: #00ff9f;
            --hover-bg: #00ff9f;
            --hover-text: #1a1a2e;
            --heading-color: #00ff9f;
            --console-glow: rgba(0, 255, 159, 0.4);
            --bg-dots-color: rgba(0, 255, 159, 0.15);
            --bg-star-color: rgba(0, 255, 159, 0.2);
        }

        html[data-theme="retro-future"] {
            --text-color: #ff6b6b;
            --bg-color: #f7f7f7;
            --accent-bg: #ffe66d;
            --border-color: #ff6b6b;
            --hover-bg: #ff6b6b;
            --hover-text: #ffffff;
            --heading-color: #ff6b6b;
            --console-glow: rgba(255, 107, 107, 0.3);
            --bg-dots-color: rgba(255, 107, 107, 0.1);
            --bg-star-color: rgba(255, 107, 107, 0.15);
        }

        html[data-theme="minimal-dark"] {
            --text-color: #e0e0e0;
            --bg-color: #121212;
            --accent-bg: #1e1e1e;
            --border-color: #e0e0e0;
            --hover-bg: #e0e0e0;
            --hover-text: #121212;
            --heading-color: #ffffff;
            --console-glow: rgba(224, 224, 224, 0.3);
            --bg-dots-color: rgba(224, 224, 224, 0.1);
            --bg-star-color: rgba(224, 224, 224, 0.15);
        }

        /* New Theme Additions */
        html[data-theme="vaporwave"] {
            --text-color: #ff71ce;
            --bg-color: #0c0032;
            --accent-bg: #240090;
            --border-color: #01c5ff;
            --hover-bg: #01c5ff;
            --hover-text: #0c0032;
            --heading-color: #b967ff;
            --console-glow: rgba(185, 103, 255, 0.4);
            --bg-dots-color: rgba(255, 113, 206, 0.15);
            --bg-star-color: rgba(1, 197, 255, 0.2);
        }

        html[data-theme="arcade"] {
            --text-color: #fe5d26;
            --bg-color: #290628;
            --accent-bg: #42033d;
            --border-color: #f2c14e;
            --hover-bg: #f2c14e;
            --hover-text: #290628;
            --heading-color: #f2c14e;
            --console-glow: rgba(242, 193, 78, 0.4);
            --bg-dots-color: rgba(254, 93, 38, 0.15);
            --bg-star-color: rgba(242, 193, 78, 0.2);
        }

        html[data-theme="space-invader"] {
            --text-color: #00f5d4;
            --bg-color: #000814;
            --accent-bg: #001d3d;
            --border-color: #ffc300;
            --hover-bg: #ffc300;
            --hover-text: #000814;
            --heading-color: #ffc300;
            --console-glow: rgba(255, 195, 0, 0.4);
            --bg-dots-color: rgba(0, 245, 212, 0.15);
            --bg-star-color: rgba(255, 195, 0, 0.2);
        }

        html[data-theme="neon"] {
            --text-color: #f72585;
            --bg-color: #10002b;
            --accent-bg: #240046;
            --border-color: #4cc9f0;
            --hover-bg: #4cc9f0;
            --hover-text: #10002b;
            --heading-color: #4361ee;
            --console-glow: rgba(76, 201, 240, 0.4);
            --bg-dots-color: rgba(247, 37, 133, 0.15);
            --bg-star-color: rgba(67, 97, 238, 0.2);
        }

        html[data-theme="galaxy"] {
            --text-color: #ffd700;
            --bg-color: #000000;
            --accent-bg: #000000;
            --border-color: #ffd700;
            --hover-bg: #ffd700;
            --hover-text: #000000;
            --heading-color: #ffffff;
            --console-glow: rgba(255, 215, 0, 0.4);
            --bg-dots-color: rgba(255, 255, 255, 0.2);
            --bg-star-color: rgba(255, 255, 255, 0.3);
        }

        /* Coffee Theme */
        html[data-theme="coffee"] {
            --text-color: #4e342e;
            --bg-color: #efebe9;
            --accent-bg: #d7ccc8;
            --border-color: #795548;
            --hover-bg: #795548;
            --hover-text: #efebe9;
            --heading-color: #5d4037;
            --console-glow: rgba(121, 85, 72, 0.3);
            --bg-dots-color: rgba(121, 85, 72, 0.1);
            --bg-star-color: rgba(62, 39, 35, 0.15);
        }
        
        /* Sunset Theme */
        html[data-theme="sunset"] {
            --text-color: #ff6f00;
            --bg-color: #1a237e;
            --accent-bg: #283593;
            --border-color: #ff9100;
            --hover-bg: #ff9100;
            --hover-text: #1a237e;
            --heading-color: #ffab40;
            --console-glow: rgba(255, 145, 0, 0.4);
            --bg-dots-color: rgba(255, 111, 0, 0.15);
            --bg-star-color: rgba(255, 171, 64, 0.2);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'VT323', monospace;
            line-height: 1.6;
            color: var(--text-color);
            background: var(--bg-color);
            font-size: 18px;
            letter-spacing: 0.02em;
        }

        h1, h2, h3, .theme-btn, .theme-option {
            font-family: 'Silkscreen', cursive;
            letter-spacing: 0.05em;
            text-rendering: optimizeLegibility;
            -webkit-font-smoothing: antialiased;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
        }

        .game-container {
            position: relative;
            min-height: 100vh;
            overflow: hidden;
        }

        /* Retro background elements */
        .retro-background {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 0;
            overflow: hidden;
        }

        .bg-stars {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: 
                radial-gradient(1px at 25% 25%, var(--bg-star-color) 100%, transparent 100%),
                radial-gradient(1.5px at 75% 45%, var(--bg-star-color) 100%, transparent 100%),
                radial-gradient(2px at 35% 65%, var(--bg-star-color) 100%, transparent 100%),
                radial-gradient(2.5px at 65% 85%, var(--bg-star-color) 100%, transparent 100%),
                radial-gradient(1.5px at 85% 15%, var(--bg-star-color) 100%, transparent 100%),
                radial-gradient(1px at 15% 35%, var(--bg-star-color) 100%, transparent 100%),
                radial-gradient(2px at 45% 95%, var(--bg-star-color) 100%, transparent 100%),
                radial-gradient(3px at 95% 55%, var(--bg-star-color) 100%, transparent 100%);
            opacity: 0.8;
            animation: twinkle 8s infinite alternate;
        }

        @keyframes twinkle {
            0% { opacity: 0.5; }
            100% { opacity: 1; }
        }

        .pacman {
            position: absolute;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            background-color: transparent;
            opacity: 0.7;
            animation: movePacman 40s linear infinite;
        }

        .pacman::before {
            content: '';
            position: absolute;
            width: 100%;
            height: 100%;
            border-radius: 50%;
            background-color: var(--text-color);
            clip-path: polygon(100% 0, 40% 50%, 100% 100%, 0 100%, 0 0);
            animation: eatAnimation 0.4s linear infinite alternate;
        }

        .pacman-2 {
            position: absolute;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background-color: transparent;
            opacity: 0.5;
            animation: movePacman2 35s linear infinite;
        }

        .pacman-2::before {
            content: '';
            position: absolute;
            width: 100%;
            height: 100%;
            border-radius: 50%;
            background-color: var(--heading-color);
            clip-path: polygon(100% 0, 40% 50%, 100% 100%, 0 100%, 0 0);
            animation: eatAnimation 0.3s linear infinite alternate;
        }

        .pacman-3 {
            position: absolute;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background-color: transparent;
            opacity: 0.6;
            animation: movePacman3 50s linear infinite;
        }

        .pacman-3::before {
            content: '';
            position: absolute;
            width: 100%;
            height: 100%;
            border-radius: 50%;
            background-color: var(--border-color);
            clip-path: polygon(100% 0, 40% 50%, 100% 100%, 0 100%, 0 0);
            animation: eatAnimation 0.5s linear infinite alternate;
        }

        @keyframes eatAnimation {
            0% { clip-path: polygon(100% 0, 40% 50%, 100% 100%, 0 100%, 0 0); }
            100% { clip-path: polygon(100% 15%, 100% 85%, 100% 85%, 0 85%, 0 15%); }
        }

        @keyframes movePacman {
            0% { top: -30px; left: -30px; }
            25% { top: 30%; left: 105%; }
            50% { top: 75%; left: -30px; }
            75% { top: 50%; left: 105%; }
            100% { top: -30px; left: -30px; }
        }

        @keyframes movePacman2 {
            0% { top: 80%; left: -20px; }
            25% { top: -20px; left: 30%; }
            50% { top: 60%; left: 105%; }
            75% { top: 20%; left: -20px; }
            100% { top: 80%; left: -20px; }
        }

        @keyframes movePacman3 {
            0% { top: 40%; left: 105%; }
            25% { top: 10%; left: -40px; }
            50% { top: 90%; left: 70%; }
            75% { top: 30%; left: 105%; }
            100% { top: 40%; left: 105%; }
        }

        .dots {
            position: absolute;
            width: 100%;
            height: 100%;
            opacity: 0.3;
            background-size: 40px 40px;
            background-image: 
                radial-gradient(var(--bg-dots-color) 3px, transparent 0),
                radial-gradient(var(--bg-dots-color) 3px, transparent 0);
            background-position: 0 0, 20px 20px;
            animation: moveGrid 30s infinite linear;
        }

        @keyframes moveGrid {
            0% { background-position: 0 0, 20px 20px; }
            100% { background-position: 500px 500px, 520px 520px; }
        }

        .wave {
            position: absolute;
            width: 100%;
            height: 100%;
            background: repeating-linear-gradient(
                0deg,
                transparent,
                transparent 20px,
                var(--bg-dots-color) 20px,
                var(--bg-dots-color) 21px
            );
            opacity: 0.2;
            animation: waveAnimation 10s infinite linear;
        }

        @keyframes waveAnimation {
            0% { transform: translateY(0); }
            100% { transform: translateY(100px); }
        }

        .pixel-dots {
            position: absolute;
            width: 100%;
            height: 100%;
            pointer-events: none;
            opacity: 0.05;
            background-image: radial-gradient(var(--border-color) 1px, transparent 1px);
            background-size: 15px 15px;
            animation: scan 10s linear infinite;
        }

        .pixel-character {
            position: fixed;
            bottom: 20px;
            left: 20px;
            width: 32px;
            height: 32px;
            background: var(--text-color);
            clip-path: polygon(
                25% 0%, 75% 0%, 100% 25%, 100% 75%, 75% 100%, 25% 100%, 0% 75%, 0% 25%
            );
            animation: float 2s infinite ease-in-out;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        .theme-switcher {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1000;
        }

        .theme-btn {
            font-size: 0.8rem;
            padding: 0.7rem;
            background: var(--accent-bg);
            border: 2px solid var(--border-color);
            color: var(--text-color);
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
        }

        .theme-btn::after {
            content: '';
            position: absolute;
            bottom: -4px;
            right: -4px;
            width: calc(100% - 2px);
            height: calc(100% - 2px);
            border: 2px solid var(--border-color);
            opacity: 0.5;
            z-index: -1;
            transition: all 0.3s ease;
        }

        .theme-btn:hover {
            background: var(--hover-bg);
            color: var(--hover-text);
        }

        .theme-menu {
            position: absolute;
            top: 100%;
            right: 0;
            background: var(--accent-bg);
            border: 2px solid var(--border-color);
            padding: 0.5rem;
            display: none;
            flex-direction: column;
            gap: 0.5rem;
        }

        .theme-switcher:hover .theme-menu {
            display: flex;
        }

        .theme-option {
            font-size: 0.8rem;
            padding: 0.5rem;
            background: var(--bg-color);
            border: 2px solid var(--border-color);
            color: var(--text-color);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .theme-option:hover {
            background: var(--hover-bg);
            color: var(--hover-text);
        }

        .nav-menu {
            position: fixed;
            top: 0;
            left: -250px;
            width: 250px;
            height: 100vh;
            background: var(--accent-bg);
            border-right: 4px solid var(--border-color);
            display: flex;
            flex-direction: column;
            gap: 1rem;
            z-index: 1500;
            padding: 5rem 1rem 1rem;
            transition: left 0.3s ease;
            box-shadow: 5px 0 15px rgba(0, 0, 0, 0.1);
            overflow-y: auto;
        }

        .nav-menu.open {
            left: 0;
        }

        .nav-toggle {
            position: fixed;
            top: 20px;
            left: 20px;
            width: 50px;
            height: 50px;
            background: var(--accent-bg);
            border: 3px solid var(--border-color);
            z-index: 2000;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
        }

        .nav-toggle:hover {
            background: var(--hover-bg);
        }

        .nav-toggle:hover .pacman-icon::before {
            background-color: var(--hover-text);
        }

        .pacman-icon {
            position: relative;
            width: 24px;
            height: 24px;
        }

        .pacman-icon::before {
            content: '';
            position: absolute;
            width: 100%;
            height: 100%;
            border-radius: 50%;
            background-color: var(--text-color);
            clip-path: polygon(100% 0, 40% 50%, 100% 100%, 0 100%, 0 0);
            animation: navPacman 0.4s linear infinite alternate;
            transition: background-color 0.3s ease;
        }

        @keyframes navPacman {
            0% { clip-path: polygon(100% 0, 40% 50%, 100% 100%, 0 100%, 0 0); }
            100% { clip-path: polygon(100% 15%, 100% 85%, 100% 85%, 0 85%, 0 15%); }
        }

        .nav-item {
            font-size: 0.9rem;
            padding: 0.8rem 1rem;
            background: var(--bg-color);
            border: 2px solid var(--border-color);
            color: var(--text-color);
            text-decoration: none;
            transition: all 0.3s ease;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .nav-item::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(
                90deg,
                transparent,
                rgba(255, 255, 255, 0.1),
                transparent
            );
            transition: left 0.7s ease;
        }

        .nav-item:hover::before {
            left: 100%;
        }

        .nav-item:hover {
            background: var(--hover-bg);
            color: var(--hover-text);
            transform: translateY(-2px);
        }

        .overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 1400;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }

        .overlay.active {
            opacity: 1;
            visibility: visible;
        }

        .page-container {
            padding-top: 4rem;
            position: relative;
            z-index: 1;
        }

        .section-container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 2rem;
        }

        .section-title {
            font-size: 2rem;
            margin-bottom: 3rem;
            text-align: center;
            position: relative;
            color: var(--heading-color);
        }

        .section-title::after {
            content: '';
            position: absolute;
            bottom: -1rem;
            left: 50%;
            transform: translateX(-50%);
            width: 100px;
            height: 4px;
            background: var(--border-color);
        }

        .highlight-card {
            background: var(--accent-bg);
            padding: 2rem;
            border: 4px solid var(--border-color);
            margin-bottom: 3rem;
            position: relative;
            transition: all 0.3s ease;
            box-shadow: 0 0 15px var(--console-glow);
        }

        .highlight-card::after {
            content: '';
            position: absolute;
            bottom: -8px;
            right: -8px;
            width: calc(100% - 4px);
            height: calc(100% - 4px);
            border: 4px solid var(--border-color);
            opacity: 0.5;
            z-index: -1;
            transition: all 0.3s ease;
        }

        .highlight-card:hover {
            transform: translate(-4px, -4px);
        }

        .highlight-card:hover::after {
            transform: translate(4px, 4px);
        }

        .highlight-card h3 {
            font-size: 1.4rem;
            margin-bottom: 1.5rem;
            color: var(--heading-color);
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .timeline-wrapper {
            position: relative;
            padding-left: 50px;
            margin: 2rem 0;
        }

        .timeline-line {
            position: absolute;
            left: 20px;
            top: 0;
            bottom: 0;
            width: 4px;
            background: var(--border-color);
            box-shadow: 0 0 10px var(--console-glow);
        }

        .timeline-item {
            position: relative;
            margin-bottom: 4rem;
            padding-bottom: 2rem;
            opacity: 0;
            transform: translateX(-20px);
            transition: transform 0.5s ease, opacity 0.5s ease;
            cursor: pointer;
            will-change: transform, opacity;
        }

        .timeline-item.visible {
            opacity: 1;
            transform: translateX(0);
        }

        .timeline-item::before {
            content: '';
            position: absolute;
            left: -46px;
            top: 0;
            width: 16px;
            height: 16px;
            background: var(--bg-color);
            border: 4px solid var(--border-color);
            box-shadow: 0 0 0 4px var(--bg-color), 0 0 10px var(--console-glow);
            border-radius: 50%;
            transition: all 0.3s ease;
            z-index: 2;
        }

        .timeline-item:hover::before {
            transform: scale(1.3) rotate(45deg);
            box-shadow: 0 0 0 4px var(--bg-color), 0 0 20px var(--console-glow);
            background: var(--hover-bg);
        }

        /* Timeline dot click animation */
        .timeline-item.expanded::before {
            transform: scale(1.5);
            background: var(--hover-bg);
            box-shadow: 0 0 0 4px var(--bg-color), 0 0 30px var(--console-glow);
            animation: dotPulse 1s infinite alternate;
        }

        @keyframes dotPulse {
            0% { box-shadow: 0 0 0 4px var(--bg-color), 0 0 10px var(--console-glow); }
            100% { box-shadow: 0 0 0 4px var(--bg-color), 0 0 30px var(--console-glow); }
        }

        /* Pixelated explosion effect */
        .pixel-explosion {
            position: absolute;
            left: -46px;
            top: 0;
            width: 100px;
            height: 100px;
            pointer-events: none;
            z-index: 1;
        }

        .pixel {
            position: absolute;
            width: 6px;
            height: 6px;
            background-color: var(--heading-color);
            opacity: 0;
        }

        /* Glitch effect overlay */
        .glitch-overlay {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: var(--heading-color);
            mix-blend-mode: difference;
            opacity: 0;
            z-index: 5;
            pointer-events: none;
        }

        /* Level-up effect */
        .level-up {
            position: absolute;
            top: -30px;
            left: 50%;
            transform: translateX(-50%);
            font-family: 'Press Start 2P', cursive;
            color: var(--heading-color);
            font-size: 1.2rem;
            opacity: 0;
            text-shadow: 2px 2px 0 var(--border-color);
            z-index: 10;
            pointer-events: none;
        }

        .timeline-date {
            font-family: 'Silkscreen', cursive;
            font-size: 1.1rem;
            color: var(--heading-color);
            margin-bottom: 1rem;
            text-shadow: 0 0 5px var(--console-glow);
            display: inline-block;
            transition: all 0.3s ease;
        }

        .timeline-item:hover .timeline-date {
            transform: scale(1.1);
        }

        .timeline-content {
            background: var(--accent-bg);
            padding: 2rem;
            border: 4px solid var(--border-color);
            position: relative;
            transition: all 0.3s ease;
            box-shadow: 0 0 10px var(--console-glow);
            transform-origin: left center;
            overflow: hidden;
        }

        .timeline-content::after {
            content: '';
            position: absolute;
            bottom: -8px;
            right: -8px;
            width: calc(100% - 4px);
            height: calc(100% - 4px);
            border: 4px solid var(--border-color);
            opacity: 0.5;
            z-index: -1;
            transition: all 0.3s ease;
        }

        /* Hidden extra content container */
        .extra-content {
            height: 0;
            overflow: hidden;
            opacity: 0;
            transition: height 0.5s ease, opacity 0.5s ease;
            margin-top: 1.5rem;
            border-top: 2px dotted var(--border-color);
            padding-top: 1.5rem;
        }

        .timeline-item.expanded .extra-content {
            height: auto;
            opacity: 1;
        }

        /* Parallax background for timeline */
        .parallax-background {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 200%;
            z-index: -1;
            pointer-events: none;
        }

        .parallax-layer {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-repeat: repeat;
        }

        .layer-1 {
            background-image: url('data:image/svg+xml;utf8,<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><rect x="8" y="8" width="4" height="4" fill="rgba(0,0,0,0.1)"/></svg>');
            background-size: 20px 20px;
            transform: translateY(0);
            opacity: 0.3;
        }

        .layer-2 {
            background-image: url('data:image/svg+xml;utf8,<svg width="30" height="30" viewBox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><rect x="10" y="10" width="10" height="10" fill="rgba(0,0,0,0.15)"/></svg>');
            background-size: 30px 30px;
            transform: translateY(0);
            opacity: 0.2;
        }

        .layer-3 {
            background-image: url('data:image/svg+xml;utf8,<svg width="40" height="40" viewBox="0 0 40 40" xmlns="http://www.w3.org/2000/svg"><rect x="15" y="15" width="10" height="10" fill="rgba(0,0,0,0.05)"/></svg>');
            background-size: 40px 40px;
            transform: translateY(0);
            opacity: 0.1;
        }
        
        /* Scan line effect for timeline items */
        .timeline-content::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 100%;
            background: linear-gradient(to bottom, transparent 50%, rgba(0, 0, 0, 0.05) 50%);
            background-size: 100% 4px;
            pointer-events: none;
            z-index: 1;
            opacity: 0.3;
        }

        /* Achievement badge */
        .achievement-badge {
            position: absolute;
            top: -10px;
            right: -10px;
            width: 40px;
            height: 40px;
            background: var(--heading-color);
            border: 3px solid var(--border-color);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--bg-color);
            font-family: 'Silkscreen', cursive;
            font-size: 0.7rem;
            z-index: 3;
            transform: scale(0);
            transition: transform 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        .timeline-item.expanded .achievement-badge {
            transform: scale(1) rotate(10deg);
        }

        /* Media query adjustments */
        @media (max-width: 768px) {
            .timeline-wrapper {
                padding-left: 30px;
            }

            .timeline-item::before {
                left: -36px;
                width: 14px;
                height: 14px;
            }

            .pixel-explosion {
                left: -36px;
                width: 80px;
                height: 80px;
            }

            .level-up {
                font-size: 1rem;
            }

            .achievement-badge {
                width: 35px;
                height: 35px;
                font-size: 0.6rem;
                top: -8px;
                right: -8px;
            }
            
            .timeline-content {
                padding: 1.5rem;
            }
            
            .extra-content {
                margin-top: 1rem;
                padding-top: 1rem;
            }
            
            .timeline-content h3 {
                font-size: 1.2rem;
                margin-bottom: 1rem;
            }
            
            .timeline-content ul li {
                margin-bottom: 0.7rem;
            }
            
            /* Improve touch target size */
            .timeline-item {
                padding-bottom: 1.5rem;
                margin-bottom: 3rem;
            }
            
            /* Optimize parallax for mobile */
            .parallax-layer {
                opacity: 0.7;
            }
        }

        @media (max-width: 480px) {
            .timeline-wrapper {
                padding-left: 25px;
            }
            
            .timeline-line {
                left: 18px;
                width: 3px;
            }
            
            .timeline-item::before {
                left: -27px;
                width: 12px;
                height: 12px;
                border-width: 3px;
            }
            
            .pixel-explosion {
                left: -27px;
                width: 60px;
                height: 60px;
            }

            .timeline-date {
                font-size: 0.9rem;
                margin-bottom: 0.7rem;
            }

            .level-up {
                font-size: 0.8rem;
                top: -25px;
            }

            .timeline-content {
                padding: 1.2rem;
                border-width: 3px;
            }
            
            .timeline-content::after {
                border-width: 3px;
            }

            .achievement-badge {
                width: 30px;
                height: 30px;
                font-size: 0.5rem;
                border-width: 2px;
            }
            
            .extra-content {
                margin-top: 0.8rem;
                padding-top: 0.8rem;
                border-top-width: 1px;
            }
            
            .timeline-content h3 {
                font-size: 1.1rem;
                margin-bottom: 0.8rem;
            }
            
            .timeline-content h4 {
                font-size: 0.9rem;
                margin-bottom: 0.3rem;
                margin-top: 0.7rem;
            }
            
            .timeline-content p, 
            .timeline-content li {
                font-size: 0.95rem;
            }
            
            /* Reduce animation intensity on mobile */
            .timeline-item.expanded::before {
                transform: scale(1.3);
            }
            
            /* Allow horizontal scrolling for pixel explosion to prevent overflow issues */
            .timeline-wrapper {
                overflow-x: hidden;
            }
        }
        
        /* Touch-specific improvements */
        @media (hover: none) {
            /* Make hover state visible by default for touch devices */
            .timeline-item::before {
                box-shadow: 0 0 0 4px var(--bg-color), 0 0 15px var(--console-glow);
            }
            
            /* Disable hover effects that don't work well on touch */
            .timeline-item:hover::before {
                transform: scale(1.2);
                rotate: 0;
            }
            
            /* Make extra content slightly visible to indicate it's expandable */
            .timeline-content::after {
                opacity: 0.7;
            }
            
            /* Add tap indicator */
            .timeline-content::before {
                content: '';
                position: absolute;
                top: 10px;
                right: 10px;
                width: 15px;
                height: 15px;
                border-radius: 50%;
                background-color: var(--border-color);
                opacity: 0.7;
                animation: tapPulse 2s infinite;
                z-index: 3;
            }
            
            @keyframes tapPulse {
                0%, 100% { transform: scale(1); opacity: 0.7; }
                50% { transform: scale(1.2); opacity: 1; }
            }
        }

        /* Media query adjustments */
        @media (max-width: 768px) {
            .page-container {
                padding-top: 6rem;
            }

            .nav-menu {
                width: 80%;
                left: -80%;
            }

            .theme-switcher {
                top: 20px;
                right: 20px;
            }

            .theme-menu {
                width: 180px;
                max-height: 300px;
                overflow-y: auto;
            }

            .timeline-wrapper {
                padding-left: 30px;
            }

            .timeline-item::before {
                left: -36px;
            }

            .section-container {
                padding: 1rem;
            }

            .highlight-card, .timeline-content, .skill-category {
                padding: 1.5rem;
            }
        }

        @media (max-width: 480px) {
            .theme-btn, .nav-toggle {
                width: 40px;
                height: 40px;
                font-size: 0.7rem;
                padding: 0.5rem;
            }

            .theme-option {
                font-size: 0.7rem;
            }

            .section-title {
                font-size: 1.6rem;
            }

            .nav-item {
                font-size: 0.8rem;
                padding: 0.6rem 0.8rem;
            }

            .highlight-card h3, .timeline-content h3, .skill-category h3 {
                font-size: 1.2rem;
            }

            .timeline-date {
                font-size: 0.9rem;
            }

            .timeline-content, .highlight-card, .skill-category {
                padding: 1rem;
            }
        }

        .loading-subtitle {
            font-size: 1rem;
            color: var(--text-color);
            text-align: center;
            margin-top: 1rem;
            opacity: 0;
            animation: fadeIn 2s forwards;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .loading-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: var(--bg-color);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 9999;
            font-family: 'Press Start 2P', cursive;
        }

        .loading-title {
            font-size: 2rem;
            color: var(--text-color);
            text-align: center;
            margin-bottom: 2rem;
            text-shadow: 4px 4px 0 var(--border-color);
            animation: blink 1s infinite;
        }

        @keyframes blink {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        .loading-dots {
            display: flex;
            gap: 1rem;
            margin-top: 2rem;
        }

        .loading-dot {
            width: 20px;
            height: 20px;
            background: var(--text-color);
            border-radius: 50%;
            animation: bounce 1s infinite;
        }

        .loading-dot:nth-child(2) {
            animation-delay: 0.2s;
        }

        .loading-dot:nth-child(3) {
            animation-delay: 0.4s;
        }

        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-20px); }
        }

        .console-screen {
            background: var(--bg-color);
            border: 4px solid var(--border-color);
            padding: 2rem;
            margin-bottom: 2rem;
            position: relative;
            min-height: 300px;
            box-shadow: inset 0 0 15px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }

        .screen-scanline {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(
                to bottom,
                transparent,
                transparent 50%,
                rgba(0, 0, 0, 0.05) 50%,
                rgba(0, 0, 0, 0.05)
            );
            background-size: 100% 4px;
            pointer-events: none;
            z-index: 1;
            opacity: 0.3;
        }

        .screen-glare {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, 
                rgba(255, 255, 255, 0.05) 0%, 
                transparent 40%, 
                transparent 100%
            );
            pointer-events: none;
        }

        /* Timeline animation */
        @keyframes timelineAppear {
            from {
                opacity: 0;
                transform: translateX(-20px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        /* Page transition animation */
        .page-transition {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: var(--bg-color);
            z-index: 9998;
            transform: scaleX(0);
            transform-origin: right;
            pointer-events: none;
        }
        
        .page-transition::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: var(--border-color);
            z-index: 9999;
            transform: scaleX(0);
            transform-origin: right;
            transition-delay: 0.2s;
        }

        /* Theme particles animation */
        .theme-particle {
            position: absolute;
            border-radius: 50%;
            pointer-events: none;
        }

        /* Text scramble effect styling */
        .dud {
            color: var(--heading-color);
            opacity: 0.7;
        }

        /* Floating particles */
        .floating-particle {
            position: absolute;
            border-radius: 50%;
            pointer-events: none;
            z-index: 1;
        }

        html[data-theme="galaxy"] .galaxy-stars {
            opacity: 1;
        }

        /* Scroll Animation Style */
        .scroll-animation-container {
            position: fixed;
            top: 90%;
            left: 90%;
            transform: translate(-50%, -50%);
            width: 100px;
            height: 100px;
            z-index: 1001;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .animation-toggle {
            position: fixed;
            bottom: 15px;
            right: 15px;
            width: 34px;
            height: 34px;
            background: var(--accent-bg);
            border: 2px solid var(--border-color);
            color: var(--text-color);
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            font-size: 16px;
            z-index: 1002;
            border-radius: 4px;
            opacity: 0.7;
            transition: all 0.3s ease;
        }

        .animation-toggle:hover {
            opacity: 1;
            background: var(--hover-bg);
            color: var(--hover-text);
        }

        .animation-toggle.disabled {
            opacity: 0.5;
            background: var(--accent-bg);
            color: var(--border-color);
        }

        .animation-toggle.disabled::after {
            content: "";
            position: absolute;
            width: 2px;
            height: 24px;
            background: var(--border-color);
            transform: rotate(45deg);
        }

        .retro-icon {
            width: 100%;
            height: 100%;
            background-color: var(--heading-color);
            clip-path: polygon(
                25% 0%, 75% 0%, 100% 25%, 100% 75%, 75% 100%, 25% 100%, 0% 75%, 0% 25%
            );
            position: relative;
            opacity: 1;
            transition: opacity 0.3s ease;
        }

        .retro-icon::before {
            content: '';
            position: absolute;
            top: 20%;
            left: 20%;
            width: 60%;
            height: 60%;
            background-color: var(--bg-color);
            clip-path: polygon(
                25% 0%, 75% 0%, 100% 25%, 100% 75%, 75% 100%, 25% 100%, 0% 75%, 0% 25%
            );
        }

        .pixel-fragment {
            position: absolute;
            background-color: var(--heading-color);
            width: 10px;
            height: 10px;
            opacity: 0;
        }

        .mini-pacman {
            position: absolute;
            width: 15px;
            height: 15px;
            background-color: transparent;
            opacity: 0;
        }

        .mini-pacman::before {
            content: '';
            position: absolute;
            width: 100%;
            height: 100%;
            border-radius: 50%;
            background-color: var(--text-color);
            clip-path: polygon(100% 0, 40% 50%, 100% 100%, 0 100%, 0 0);
            animation: eatMiniPacman 0.3s linear infinite alternate;
        }

        @keyframes eatMiniPacman {
            0% { clip-path: polygon(100% 0, 40% 50%, 100% 100%, 0 100%, 0 0); }
            100% { clip-path: polygon(100% 15%, 100% 85%, 100% 85%, 0 85%, 0 15%); }
        }

        .section-indicator {
            position: absolute;
            width: 100%;
            height: 100%;
            opacity: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            font-family: 'Silkscreen', cursive;
            color: var(--heading-color);
            font-size: 20px;
            text-shadow: 2px 2px 0 var(--border-color);
        }

        /* Icon variations for different sections */
        .retro-icon[data-section="HOME"] {
            clip-path: polygon(
                25% 0%, 75% 0%, 100% 25%, 100% 75%, 75% 100%, 25% 100%, 0% 75%, 0% 25%
            );
        }

        .retro-icon[data-section="ABOUT"] {
            clip-path: polygon(
                50% 0%, 100% 25%, 100% 75%, 50% 100%, 0% 75%, 0% 25%
            );
        }

        .retro-icon[data-section="SKILLS"] {
            clip-path: polygon(
                25% 0%, 75% 0%, 100% 50%, 75% 100%, 25% 100%, 0% 50%
            );
        }

        .retro-icon[data-section="PROJECTS"] {
            clip-path: polygon(
                0% 0%, 100% 0%, 100% 75%, 75% 100%, 0% 100%
            );
        }

        .retro-icon[data-section="CONTACT"] {
            clip-path: circle(50% at 50% 50%);
        }

        /* Mobile responsiveness for scroll animation */
        @media (max-width: 768px) {
            .scroll-animation-container {
                width: 80px;
                height: 80px;
                top: 85%;
                left: 85%;
            }

            .pixel-fragment {
                width: 8px;
                height: 8px;
            }

            .section-indicator {
                font-size: 16px;
            }
        }

        @media (max-width: 480px) {
            .scroll-animation-container {
                width: 60px;
                height: 60px;
                top: 80%;
                left: 80%;
            }

            .pixel-fragment {
                width: 6px;
                height: 6px;
            }

            .section-indicator {
                font-size: 14px;
            }
        }
    </style>
</head>
<body>
    <div class="game-container">
        <div class="loading-screen">
            <h1 class="loading-title">PRESS START</h1>
            <div class="loading-dots">
                <div class="loading-dot"></div>
                <div class="loading-dot"></div>
                <div class="loading-dot"></div>
            </div>
            <p class="loading-subtitle">Loading Experience...</p>
        </div>
        
        <div class="retro-background">
            <div class="bg-stars"></div>
            <div class="dots"></div>
            <div class="wave"></div>
            <div class="pacman"></div>
            <div class="pacman-2"></div>
            <div class="pacman-3"></div>
            <div class="galaxy-stars"></div>
            <div class="galaxy-nebula"></div>
            <div class="shooting-star shooting-star-1"></div>
            <div class="shooting-star shooting-star-2"></div>
        </div>
        
        <div class="pixel-dots"></div>
        <div class="pixel-character"></div>
        
        <div class="theme-switcher">
            <button class="theme-btn" aria-label="Change Theme"><i class="fas fa-palette"></i></button>
            <div class="theme-menu">
                <button class="theme-option" data-theme="classic">CLASSIC</button>
                <button class="theme-option" data-theme="gameboy">GAMEBOY</button>
                <button class="theme-option" data-theme="terminal">TERMINAL</button>
                <button class="theme-option" data-theme="cyberpunk">CYBERPUNK</button>
                <button class="theme-option" data-theme="retro-future">RETRO FUTURE</button>
                <button class="theme-option" data-theme="minimal-dark">MINIMAL DARK</button>
                <button class="theme-option" data-theme="arcade">ARCADE</button>
                <button class="theme-option" data-theme="space-invader">SPACE INVADER</button>
                <button class="theme-option" data-theme="neon">NEON</button>
                <button class="theme-option" data-theme="galaxy">GALAXY</button>
            </div>
        </div>

        <div class="nav-toggle" aria-label="Toggle Navigation">
            <div class="pacman-icon"></div>
        </div>

        <div class="overlay"></div>

        <nav class="nav-menu">
            <a href="index.html" class="nav-item">[ HOME ]</a>
            <a href="experience.html" class="nav-item">[ EXPERIENCE ]</a>
            <a href="projects.html" class="nav-item">[ PROJECTS ]</a>
            <a href="contact.html" class="nav-item">[ CONTACT ]</a>
        </nav>

        <div class="scroll-animation-container">
            <div class="retro-icon"></div>
            <div class="section-indicator"></div>
            <!-- Pixel fragments will be dynamically generated -->
        </div>

        <button class="animation-toggle" aria-label="Toggle scroll animation">
            <i class="fas fa-magic"></i>
        </button>

        <div class="page-container">
            <div class="section-container">
                <h1 class="section-title">Experience</h1>
                <div class="game-console">
                    <div class="console-screen">
                        <div class="screen-glare"></div>
                        <div class="screen-scanline"></div>
                        
                        <div class="timeline-wrapper">
                            <div class="timeline-line"></div>
                            
                            <div class="timeline-item">
                                <div class="timeline-date">2021 - Present</div>
                                <div class="timeline-content">
                                    <h3>Analytics Professional</h3>
                                    <ul>
                                        <li>Developed and implemented trading strategies using Python and machine learning</li>
                                        <li>Created custom dashboards for data visualization and analysis</li>
                                        <li>Built risk models for portfolio management</li>
                                    </ul>
                                </div>
                            </div>

                            <div class="timeline-item">
                                <div class="timeline-date">2019 - 2021</div>
                                <div class="timeline-content">
                                    <h3>Data Analyst</h3>
                                    <ul>
                                        <li>Analyzed market trends and patterns</li>
                                        <li>Developed statistical models for data analysis</li>
                                        <li>Created reports and presentations for stakeholders</li>
                                    </ul>
                                </div>
                            </div>

                            <div class="timeline-item">
                                <div class="timeline-date">2017 - 2019</div>
                                <div class="timeline-content">
                                    <h3>Statistics Graduate</h3>
                                    <ul>
                                        <li>Completed Master's in Statistics from ISI</li>
                                        <li>Specialized in data analysis and machine learning</li>
                                        <li>Worked on various research projects</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Theme switching functionality
            const themeBtn = document.querySelector('.theme-btn');
            const themeMenu = document.querySelector('.theme-menu');
            const themeBtns = document.querySelectorAll('.theme-option');
            const html = document.documentElement;
            const loadingScreen = document.querySelector('.loading-screen');
            const navToggle = document.querySelector('.nav-toggle');
            const navMenu = document.querySelector('.nav-menu');
            const overlay = document.querySelector('.overlay');

            // Load saved theme
            const savedTheme = localStorage.getItem('theme') || 'classic';
            html.setAttribute('data-theme', savedTheme);
            
            // Theme button click handler
            themeBtn.addEventListener('click', (e) => {
                e.stopPropagation();
                themeMenu.classList.toggle('active');
            });

            // Close theme menu when clicking outside
            document.addEventListener('click', (e) => {
                if (!themeMenu.contains(e.target) && !themeBtn.contains(e.target)) {
                    themeMenu.classList.remove('active');
                }
            });

            // Prevent clicks inside theme menu from closing it
            themeMenu.addEventListener('click', (e) => {
                e.stopPropagation();
            });

            themeBtns.forEach(btn => {
                btn.addEventListener('click', () => {
                    const theme = btn.getAttribute('data-theme');
                    html.setAttribute('data-theme', theme);
                    localStorage.setItem('theme', theme);
                    themeMenu.classList.remove('active');
                    
                    // Create theme change animation
                    createThemeChangeAnimation();
                });
            });

            // Navigation toggle functionality
            navToggle.addEventListener('click', (e) => {
                e.stopPropagation();
                navToggle.classList.toggle('active');
                navMenu.classList.toggle('open');
                overlay.classList.toggle('active');
                
                // Animate nav menu items when opened
                if (navMenu.classList.contains('open')) {
                    anime({
                        targets: '.nav-item',
                        translateX: [-50, 0],
                        opacity: [0, 1],
                        delay: anime.stagger(100),
                        duration: 800,
                        easing: 'easeOutExpo'
                    });
                }
            });

            // Close menu when clicking on overlay
            overlay.addEventListener('click', () => {
                navToggle.classList.remove('active');
                navMenu.classList.remove('open');
                overlay.classList.remove('active');
            });

            // Nav item hover effect
            const navItems = document.querySelectorAll('.nav-item');
            navItems.forEach(item => {
                item.addEventListener('mouseenter', function() {
                    anime({
                        targets: this,
                        translateY: -5,
                        scale: 1.05,
                        duration: 300,
                        easing: 'easeOutElastic(1, .8)'
                    });
                });
                
                item.addEventListener('mouseleave', function() {
                    anime({
                        targets: this,
                        translateY: 0,
                        scale: 1,
                        duration: 300,
                        easing: 'easeOutElastic(1, .8)'
                    });
                });
                
                // Close menu when clicking on a nav item
                item.addEventListener('click', () => {
                    navToggle.classList.remove('active');
                    navMenu.classList.remove('open');
                    overlay.classList.remove('active');
                });
            });

            // Timeline animations with anime.js
            const timelineItems = document.querySelectorAll('.timeline-item');
            
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('visible');
                        
                        // Animate the timeline item
                        anime({
                            targets: entry.target,
                            opacity: [0, 1],
                            translateX: [-30, 0],
                            easing: 'easeOutExpo',
                            duration: 1000
                        });
                        
                        // Animate the timeline dot
                        anime({
                            targets: entry.target.querySelector('::before'),
                            scale: [0, 1],
                            opacity: [0, 1],
                            easing: 'easeOutElastic(1, .8)',
                            duration: 1000
                        });
                        
                        // Animate the timeline date
                        anime({
                            targets: entry.target.querySelector('.timeline-date'),
                            opacity: [0, 1],
                            translateY: [-10, 0],
                            easing: 'easeOutExpo',
                            duration: 800,
                            delay: 300
                        });
                        
                        // Animate the timeline content
                        anime({
                            targets: entry.target.querySelector('.timeline-content'),
                            opacity: [0, 1],
                            translateY: [20, 0],
                            scale: [0.9, 1],
                            easing: 'easeOutExpo',
                            duration: 800,
                            delay: 400
                        });
                        
                        // Animate the timeline content items
                        anime({
                            targets: entry.target.querySelectorAll('.timeline-content li'),
                            opacity: [0, 1],
                            translateX: [-10, 0],
                            delay: anime.stagger(150, {start: 600}),
                            easing: 'easeOutExpo',
                            duration: 800
                        });
                    }
                });
            }, {
                threshold: 0.1
            });

            timelineItems.forEach(item => {
                observer.observe(item);
                
                // Add hover effect to timeline items
                item.addEventListener('mouseenter', function() {
                    anime({
                        targets: this.querySelector('.timeline-content'),
                        translateY: -5,
                        boxShadow: '0 15px 30px var(--console-glow)',
                        duration: 300,
                        easing: 'easeOutQuad'
                    });
                });
                
                item.addEventListener('mouseleave', function() {
                    anime({
                        targets: this.querySelector('.timeline-content'),
                        translateY: 0,
                        boxShadow: '0 0 10px var(--console-glow)',
                        duration: 300,
                        easing: 'easeOutQuad'
                    });
                });
            });
            
            // Section title animation
            anime({
                targets: '.section-title',
                opacity: [0, 1],
                translateY: [-30, 0],
                easing: 'easeOutExpo',
                duration: 1000,
                delay: 300
            });
            
            // Add text scramble effect to section title
            class TextScramble {
                constructor(el) {
                    this.el = el;
                    this.chars = '!<>-_\\/[]{}—=+*^?#________';
                    this.update = this.update.bind(this);
                }
                setText(newText) {
                    const oldText = this.el.innerText;
                    const length = Math.max(oldText.length, newText.length);
                    const promise = new Promise((resolve) => this.resolve = resolve);
                    this.queue = [];
                    for (let i = 0; i < length; i++) {
                        const from = oldText[i] || '';
                        const to = newText[i] || '';
                        const start = Math.floor(Math.random() * 40);
                        const end = start + Math.floor(Math.random() * 40);
                        this.queue.push({ from, to, start, end });
                    }
                    cancelAnimationFrame(this.frameRequest);
                    this.frame = 0;
                    this.update();
                    return promise;
                }
                update() {
                    let output = '';
                    let complete = 0;
                    for (let i = 0, n = this.queue.length; i < n; i++) {
                        let { from, to, start, end, char } = this.queue[i];
                        if (this.frame >= end) {
                            complete++;
                            output += to;
                        } else if (this.frame >= start) {
                            if (!char || Math.random() < 0.28) {
                                char = this.randomChar();
                                this.queue[i].char = char;
                            }
                            output += `<span class="dud">${char}</span>`;
                        } else {
                            output += from;
                        }
                    }
                    this.el.innerHTML = output;
                    if (complete === this.queue.length) {
                        this.resolve();
                    } else {
                        this.frameRequest = requestAnimationFrame(this.update);
                        this.frame++;
                    }
                }
                randomChar() {
                    return this.chars[Math.floor(Math.random() * this.chars.length)];
                }
            }
            
            // Apply text scramble effect on section titles
            const title = document.querySelector('.section-title');
            const originalText = title.textContent;
            const scramble = new TextScramble(title);
            title.addEventListener('mouseenter', () => {
                scramble.setText(originalText);
            });
            
            // Theme button pulse effect
            anime({
                targets: '.theme-btn',
                scale: [1, 1.1, 1],
                duration: 2000,
                loop: true,
                easing: 'easeInOutSine'
            });
            
            // Console screen effects
            anime({
                targets: '.console-screen',
                boxShadow: [
                    'inset 0 0 5px rgba(0, 0, 0, 0.1)',
                    'inset 0 0 20px var(--console-glow)',
                    'inset 0 0 5px rgba(0, 0, 0, 0.1)'
                ],
                duration: 3000,
                loop: true,
                direction: 'alternate',
                easing: 'easeInOutSine'
            });
            
            // Timeline line pulse animation
            anime({
                targets: '.timeline-line',
                opacity: [0.5, 1],
                boxShadow: [
                    '0 0 5px var(--console-glow)',
                    '0 0 15px var(--console-glow)',
                    '0 0 5px var(--console-glow)'
                ],
                duration: 2000,
                loop: true,
                direction: 'alternate',
                easing: 'easeInOutSine'
            });
            
            // Create particle animation for theme changes
            function createThemeChangeAnimation() {
                // Create particles container if it doesn't exist
                let particlesContainer = document.querySelector('.theme-particles');
                if (!particlesContainer) {
                    particlesContainer = document.createElement('div');
                    particlesContainer.className = 'theme-particles';
                    particlesContainer.style.cssText = `
                        position: fixed;
                        top: 0;
                        left: 0;
                        width: 100%;
                        height: 100%;
                        pointer-events: none;
                        z-index: 2000;
                    `;
                    document.body.appendChild(particlesContainer);
                }
                
                // Clear existing particles
                particlesContainer.innerHTML = '';
                
                // Create new particles
                for (let i = 0; i < 30; i++) {
                    const particle = document.createElement('div');
                    particle.className = 'theme-particle';
                    particle.style.cssText = `
                        position: absolute;
                        width: ${Math.random() * 10 + 5}px;
                        height: ${Math.random() * 10 + 5}px;
                        background: var(--border-color);
                        border-radius: 50%;
                        top: ${Math.random() * 100}%;
                        left: ${Math.random() * 100}%;
                        opacity: 0;
                    `;
                    particlesContainer.appendChild(particle);
                    
                    // Animate each particle
                    anime({
                        targets: particle,
                        translateX: anime.random(-100, 100),
                        translateY: anime.random(-100, 100),
                        scale: [0, 1, 0],
                        opacity: [0, 0.8, 0],
                        easing: 'easeOutExpo',
                        duration: anime.random(1000, 1500),
                        complete: function() {
                            particle.remove();
                        }
                    });
                }
            }
            
            // Page transition animations
            const navLinks = document.querySelectorAll('a[href]:not([href^="#"])');
            
            navLinks.forEach(link => {
                link.addEventListener('click', function(e) {
                    const href = this.getAttribute('href');
                    if (href && !href.startsWith('#') && !href.startsWith('http')) {
                        e.preventDefault();
                        
                        // Create transition element if it doesn't exist
                        let transition = document.querySelector('.page-transition');
                        if (!transition) {
                            transition = document.createElement('div');
                            transition.className = 'page-transition';
                            document.body.appendChild(transition);
                        }
                        
                        // Animate transition
                        anime.timeline({
                            easing: 'easeInOutExpo'
                        })
                        .add({
                            targets: transition,
                            scaleX: [0, 1],
                            transformOrigin: ['right', 'left'],
                            duration: 600,
                            begin: function() {
                                transition.style.display = 'block';
                            }
                        })
                        .add({
                            targets: transition,
                            scaleX: [1, 0],
                            transformOrigin: ['left', 'right'],
                            duration: 600,
                            offset: '+=100',
                            complete: function() {
                                window.location.href = href;
                            }
                        });
                    }
                });
            });

            // Handle loading screen
            const showLoadingScreen = () => {
                loadingScreen.style.display = 'flex';
                loadingScreen.style.opacity = '1';
                setTimeout(() => {
                    loadingScreen.style.opacity = '0';
                    setTimeout(() => {
                        loadingScreen.style.display = 'none';
                    }, 1000);
                }, 2000);
            };

            // Check if this is a refresh or direct navigation
            const isRefresh = performance.navigation.type === 1;
            const isDirectNavigation = !document.referrer.includes(window.location.hostname);

            if (isRefresh || isDirectNavigation) {
                showLoadingScreen();
                sessionStorage.setItem('hasLoaded', 'true');
            } else {
                loadingScreen.style.display = 'none';
            }

            // Scroll-triggered animation
            (function() {
                const animContainer = document.querySelector('.scroll-animation-container');
                const retroIcon = document.querySelector('.retro-icon');
                const sectionIndicator = document.querySelector('.section-indicator');
                const animToggle = document.querySelector('.animation-toggle');
                
                // Check for user preference
                let animationsEnabled = localStorage.getItem('scrollAnimationsEnabled');
                if (animationsEnabled === null) {
                    // Default to enabled if not set
                    animationsEnabled = true;
                    localStorage.setItem('scrollAnimationsEnabled', 'true');
                } else {
                    animationsEnabled = animationsEnabled === 'true';
                }
                
                // Apply initial state
                if (!animationsEnabled) {
                    animToggle.classList.add('disabled');
                }
                
                // Toggle animation setting
                animToggle.addEventListener('click', function() {
                    animationsEnabled = !animationsEnabled;
                    localStorage.setItem('scrollAnimationsEnabled', String(animationsEnabled));
                    
                    if (!animationsEnabled) {
                        animToggle.classList.add('disabled');
                        animContainer.style.opacity = '0';
                    } else {
                        animToggle.classList.remove('disabled');
                    }
                });
                
                // Define sections and their corresponding indicator text
                const sections = [
                    { id: 'intro', text: 'EXPERIENCE', threshold: 0.1 },
                    { id: 'work', text: 'WORK', threshold: 0.3 },
                    { id: 'education', text: 'EDUCATION', threshold: 0.5 },
                    { id: 'skills', text: 'SKILLS', threshold: 0.7 },
                    { id: 'certs', text: 'CERTIFICATES', threshold: 0.9 }
                ];
                
                let currentSection = 0;
                let isAnimating = false;
                let fragments = [];
                let miniPacmans = [];
                const fragmentCount = 10; // Reduced from 15
                const pacmanCount = 2; // Reduced from 3
                
                // Generate pixel fragments
                function generateFragments() {
                    // Clear existing fragments
                    fragments.forEach(fragment => fragment.remove());
                    fragments = [];
                    
                    // Create new fragments (reduced count)
                    for (let i = 0; i < fragmentCount; i++) {
                        const fragment = document.createElement('div');
                        fragment.className = 'pixel-fragment';
                        const size = Math.random() * 6 + 3; // Smaller size
                        fragment.style.width = `${size}px`;
                        fragment.style.height = `${size}px`;
                        
                        // Initial position (centered)
                        fragment.style.top = '50%';
                        fragment.style.left = '50%';
                        fragment.style.transform = 'translate(-50%, -50%)';
                        
                        animContainer.appendChild(fragment);
                        fragments.push(fragment);
                    }
                }
                
                // Generate mini pacmans
                function generateMiniPacmans() {
                    // Clear existing pacmans
                    miniPacmans.forEach(pacman => pacman.remove());
                    miniPacmans = [];
                    
                    // Create new pacmans (reduced count)
                    for (let i = 0; i < pacmanCount; i++) {
                        const pacman = document.createElement('div');
                        pacman.className = 'mini-pacman';
                        
                        // Random position around the center
                        pacman.style.top = '50%';
                        pacman.style.left = '50%';
                        pacman.style.transform = 'translate(-50%, -50%)';
                        
                        animContainer.appendChild(pacman);
                        miniPacmans.push(pacman);
                    }
                }
                
                // Shatter animation
                function shatterAnimation() {
                    isAnimating = true;
                    
                    // Hide the main icon
                    anime({
                        targets: retroIcon,
                        opacity: 0,
                        scale: 0.8,
                        duration: 300,
                        easing: 'easeInQuad'
                    });
                    
                    // Animate each fragment flying away
                    anime({
                        targets: fragments,
                        translateX: () => anime.random(-80, 80), // Reduced range
                        translateY: () => anime.random(-80, 80), // Reduced range
                        rotate: () => anime.random(-180, 180), // Reduced rotation
                        opacity: [0, 0.6, 0], // Reduced opacity
                        scale: [0, 0.8, 0], // Reduced scale
                        duration: () => anime.random(400, 800), // Faster animation
                        delay: anime.stagger(8), // Faster stagger
                        easing: 'easeOutExpo',
                        complete: function() {
                            // Update section indicator
                            sectionIndicator.textContent = sections[currentSection].text;
                            
                            // Reassemble animation after a short delay
                            setTimeout(reassembleAnimation, 200);
                        }
                    });
                    
                    // Animate pacmans to chase fragments
                    anime({
                        targets: miniPacmans,
                        translateX: () => anime.random(-60, 60), // Reduced range
                        translateY: () => anime.random(-60, 60), // Reduced range
                        opacity: [0, 0.5, 0], // Reduced opacity
                        duration: () => anime.random(600, 900), // Faster animation
                        delay: anime.stagger(80),
                        easing: 'easeOutCubic'
                    });
                }
                
                // Reassemble animation
                function reassembleAnimation() {
                    // Show the section indicator
                    anime({
                        targets: sectionIndicator,
                        opacity: 1,
                        duration: 300,
                        easing: 'easeOutQuad'
                    });
                    
                    // Move fragments back to center
                    anime({
                        targets: fragments,
                        translateX: 0,
                        translateY: 0,
                        rotate: 0,
                        opacity: [0, 0.8, 0],
                        scale: [0, 1, 0],
                        duration: () => anime.random(500, 800),
                        delay: anime.stagger(10),
                        easing: 'easeOutExpo',
                        complete: function() {
                            // Hide the section indicator
                            anime({
                                targets: sectionIndicator,
                                opacity: 0,
                                duration: 300,
                                easing: 'easeOutQuad',
                                complete: function() {
                                    // Update retro icon shape based on current section
                                    retroIcon.setAttribute('data-section', sections[currentSection].text);
                                    
                                    // Show the main icon again
                                    anime({
                                        targets: retroIcon,
                                        opacity: 1,
                                        scale: 1,
                                        duration: 300,
                                        easing: 'easeOutQuad',
                                        complete: function() {
                                            isAnimating = false;
                                        }
                                    });
                                }
                            });
                        }
                    });
                }
                
                // Initialize fragments and pacmans
                generateFragments();
                generateMiniPacmans();
                
                // Set initial section
                retroIcon.setAttribute('data-section', sections[currentSection].text);
                
                // Set up scroll monitoring
                let lastScrollY = window.scrollY;
                let scrollTimer;
                let scrollThreshold = 150; // Increased minimum scroll distance to trigger animation
                let scrollTimeout = null; // For debouncing
                
                function handleScroll() {
                    // Skip all animation if disabled
                    if (!animationsEnabled) return;
                    
                    // Calculate scroll distance
                    const scrollDistance = Math.abs(window.scrollY - lastScrollY);
                    lastScrollY = window.scrollY;
                    
                    // Get scroll progress percentage
                    const scrollHeight = document.documentElement.scrollHeight - window.innerHeight;
                    const scrollProgress = window.scrollY / scrollHeight;
                    
                    // Determine current section based on scroll progress
                    let newSection = 0;
                    for (let i = sections.length - 1; i >= 0; i--) {
                        if (scrollProgress >= sections[i].threshold) {
                            newSection = i;
                            break;
                        }
                    }
                    
                    // Trigger animation if section changed and not currently animating and significant scroll detected
                    if (newSection !== currentSection && !isAnimating && scrollDistance > scrollThreshold) {
                        // Only show animation container when actually animating
                        animContainer.style.opacity = '0.7'; // Reduced opacity
                        
                        currentSection = newSection;
                        shatterAnimation();
                        
                        // Apply different color based on section
                        const colors = [
                            { bg: 'var(--heading-color)', inner: 'var(--bg-color)' },
                            { bg: 'var(--border-color)', inner: 'var(--accent-bg)' },
                            { bg: 'var(--text-color)', inner: 'var(--hover-bg)' },
                            { bg: 'var(--hover-text)', inner: 'var(--hover-bg)' },
                            { bg: 'var(--console-glow)', inner: 'var(--heading-color)' }
                        ];
                        
                        // Update fragment colors to match current section
                        fragments.forEach(fragment => {
                            fragment.style.backgroundColor = colors[currentSection % colors.length].bg;
                        });
                        
                        // Hide animation container after animation completes
                        scrollTimer = setTimeout(() => {
                            animContainer.style.opacity = '0';
                        }, 2000);
                    }
                }
                
                // Performance optimization: Use requestAnimationFrame and debounce
                function optimizedScrollHandler() {
                    if (scrollTimeout) {
                        return;
                    }
                    
                    scrollTimeout = setTimeout(() => {
                        window.requestAnimationFrame(function() {
                            handleScroll();
                            scrollTimeout = null;
                        });
                    }, 10); // Small timeout to debounce without making it feel laggy
                }
                
                window.addEventListener('scroll', optimizedScrollHandler, { passive: true });
                
                // Resize handler for responsive adjustments
                function handleResize() {
                    // Adjust animation container size based on viewport
                    const size = Math.min(window.innerWidth, window.innerHeight) * 0.12; // Reduced size
                    animContainer.style.width = `${size}px`;
                    animContainer.style.height = `${size}px`;
                    
                    // Recalculate scroll thresholds based on page sections
                    const pageHeight = document.documentElement.scrollHeight;
                    const viewportHeight = window.innerHeight;
                    
                    // Adjust fragments based on new size
                    generateFragments();
                    generateMiniPacmans();
                }
                
                // Initial resize call
                handleResize();
                
                // Set up resize listener with debounce
                let resizeTimeout;
                window.addEventListener('resize', function() {
                    clearTimeout(resizeTimeout);
                    resizeTimeout = setTimeout(handleResize, 100);
                }, { passive: true });
                
                // Clean up function for performance
                function cleanup() {
                    window.removeEventListener('scroll', optimizedScrollHandler);
                    window.removeEventListener('resize', handleResize);
                    clearTimeout(scrollTimer);
                    clearTimeout(resizeTimeout);
                }
                
                // Clean up on page unload
                window.addEventListener('unload', cleanup);
            })();

            // Enhanced Timeline Interactions
            const timelineItemsEnhanced = document.querySelectorAll('.timeline-item');
            
            // Add extra content to each timeline item
            timelineItemsEnhanced.forEach((item, index) => {
                // Create achievement badge
                const badge = document.createElement('div');
                badge.className = 'achievement-badge';
                badge.textContent = (index + 1) + 'UP';
                item.querySelector('.timeline-content').appendChild(badge);
                
                // Create glitch overlay
                const glitch = document.createElement('div');
                glitch.className = 'glitch-overlay';
                item.appendChild(glitch);
                
                // Create level-up text
                const levelUp = document.createElement('div');
                levelUp.className = 'level-up';
                levelUp.textContent = 'LEVEL UP!';
                item.appendChild(levelUp);
                
                // Create pixel explosion container
                const explosion = document.createElement('div');
                explosion.className = 'pixel-explosion';
                item.appendChild(explosion);
                
                // Generate pixels for explosion
                for (let i = 0; i < 20; i++) {
                    const pixel = document.createElement('div');
                    pixel.className = 'pixel';
                    explosion.appendChild(pixel);
                }
                
                // Add extra content section
                const timelineContent = item.querySelector('.timeline-content');
                const extraContent = document.createElement('div');
                extraContent.className = 'extra-content';
                
                // Customize extra content based on index
                if (index === 0) { // Most recent experience
                    extraContent.innerHTML = `
                        <h4>Key Achievement:</h4>
                        <p>Developed an automated trading algorithm that increased portfolio performance by 22%.</p>
                        <h4>Technologies:</h4>
                        <p>Python, TensorFlow, Pandas, SQL, scikit-learn, Git</p>
                        <h4>Recognition:</h4>
                        <p>Received Team Excellence Award for innovation in data analysis techniques.</p>
                    `;
                } else if (index === 1) { // Second experience
                    extraContent.innerHTML = `
                        <h4>Key Achievement:</h4>
                        <p>Created visualization dashboards that reduced reporting time by 40%.</p>
                        <h4>Technologies:</h4>
                        <p>Tableau, R, SQL, Excel, PowerBI</p>
                        <h4>Recognition:</h4>
                        <p>Featured analysis presented to executive leadership.</p>
                    `;
                } else if (index === 2) { // Education
                    extraContent.innerHTML = `
                        <h4>Thesis:</h4>
                        <p>Statistical modeling for predictive market analysis</p>
                        <h4>GPA:</h4>
                        <p>3.92/4.0</p>
                        <h4>Achievements:</h4>
                        <p>Published research in Statistical Journal of Data Science</p>
                    `;
                }
                
                timelineContent.appendChild(extraContent);
                
                // Click event for expanding timeline items
                item.addEventListener('click', function() {
                    const isExpanded = this.classList.contains('expanded');
                    
                    // Reset all items first
                    timelineItemsEnhanced.forEach(otherItem => {
                        if (otherItem !== this) {
                            otherItem.classList.remove('expanded');
                        }
                    });
                    
                    // Toggle current item
                    if (!isExpanded) {
                        this.classList.add('expanded');
                        
                        // Pixelated explosion animation
                        const pixels = this.querySelectorAll('.pixel');
                        pixels.forEach((pixel, i) => {
                            // Random position, rotation and color
                            const xPos = (Math.random() - 0.5) * 80;
                            const yPos = (Math.random() - 0.5) * 80;
                            const rotation = Math.random() * 360;
                            const colors = [
                                'var(--heading-color)', 
                                'var(--border-color)', 
                                'var(--text-color)'
                            ];
                            pixel.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                            
                            // Animate explosion
                            anime({
                                targets: pixel,
                                translateX: [0, xPos],
                                translateY: [0, yPos],
                                rotate: rotation,
                                opacity: [0, 1, 0],
                                scale: [0, 1.5, 0],
                                easing: 'easeOutExpo',
                                duration: 1000,
                                delay: i * 10
                            });
                        });
                        
                        // Glitch effect
                        anime({
                            targets: this.querySelector('.glitch-overlay'),
                            opacity: [0.8, 0],
                            duration: 100,
                            easing: 'steps(2)',
                            complete: () => {
                                setTimeout(() => {
                                    anime({
                                        targets: this.querySelector('.glitch-overlay'),
                                        opacity: [0.5, 0],
                                        duration: 50,
                                        easing: 'steps(2)'
                                    });
                                }, 200);
                            }
                        });
                        
                        // Level up text animation
                        anime({
                            targets: this.querySelector('.level-up'),
                            translateY: [-20, -40],
                            opacity: [0, 1, 0],
                            easing: 'easeOutExpo',
                            duration: 1500
                        });
                        
                        // Timeline content animation
                        anime({
                            targets: this.querySelector('.timeline-content'),
                            scale: [1, 1.02, 1],
                            duration: 600,
                            easing: 'easeOutElastic(1, .5)'
                        });
                    } else {
                        this.classList.remove('expanded');
                    }
                });
            });
            
            // Create parallax background for timeline
            const timelineWrapper = document.querySelector('.timeline-wrapper');
            const parallaxBg = document.createElement('div');
            parallaxBg.className = 'parallax-background';
            
            // Create parallax layers
            const layers = ['layer-1', 'layer-2', 'layer-3'];
            layers.forEach(layer => {
                const layerDiv = document.createElement('div');
                layerDiv.className = `parallax-layer ${layer}`;
                parallaxBg.appendChild(layerDiv);
            });
            
            timelineWrapper.appendChild(parallaxBg);
            
            // Parallax effect on scroll
            let lastScrollTop = 0;
            
            function handleParallaxScroll() {
                const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
                const direction = scrollTop > lastScrollTop ? 1 : -1; // 1 for down, -1 for up
                lastScrollTop = scrollTop;
                
                // Move layers at different speeds
                document.querySelector('.layer-1').style.transform = `translateY(${scrollTop * 0.1}px)`;
                document.querySelector('.layer-2').style.transform = `translateY(${scrollTop * 0.05}px)`;
                document.querySelector('.layer-3').style.transform = `translateY(${scrollTop * 0.02}px)`;
                
                // Check for timeline items in viewport to trigger animations
                timelineItemsEnhanced.forEach((item, index) => {
                    const rect = item.getBoundingClientRect();
                    const viewHeight = Math.max(document.documentElement.clientHeight, window.innerHeight);
                    
                    // If item is in viewport
                    if (rect.top >= 0 && rect.top <= viewHeight * 0.75) {
                        if (!item.classList.contains('visible')) {
                            item.classList.add('visible');
                            
                            // Sequential animation delay
                            const delay = index * 150;
                            
                            // Timeline dot animation
                            anime({
                                targets: item,
                                opacity: [0, 1],
                                translateX: [-30, 0],
                                easing: 'easeOutExpo',
                                duration: 800,
                                delay: delay
                            });
                            
                            // Brief glitch effect
                            setTimeout(() => {
                                anime({
                                    targets: item.querySelector('.glitch-overlay'),
                                    opacity: [0.5, 0],
                                    duration: 100,
                                    easing: 'steps(2)'
                                });
                            }, delay + 200);
                        }
                    }
                });
            }
            
            // Optimized scroll handler
            let scrollTimeout;
            window.addEventListener('scroll', function() {
                if (!scrollTimeout) {
                    scrollTimeout = setTimeout(function() {
                        handleParallaxScroll();
                        scrollTimeout = null;
                    }, 10);
                }
            }, { passive: true });
            
            // Initialize first view
            handleParallaxScroll();

            // Mobile experience optimizations
            const isMobile = window.innerWidth <= 768;
            const isTouchDevice = ('ontouchstart' in window) || (navigator.maxTouchPoints > 0);
            
            // Adjust explosion animations for mobile
            function setupMobileExperience() {
                // Optimize parallax effect for mobile
                if (isMobile) {
                    // Reduce number of pixels for better performance
                    document.querySelectorAll('.pixel-explosion').forEach(explosion => {
                        // Remove excess pixels
                        const pixels = explosion.querySelectorAll('.pixel');
                        for (let i = pixels.length - 1; i >= 10; i--) {
                            pixels[i].remove();
                        }
                    });
                    
                    // Add active state indicator for mobile
                    timelineItemsEnhanced.forEach(item => {
                        const tapIndicator = document.createElement('div');
                        tapIndicator.className = 'tap-indicator';
                        tapIndicator.innerHTML = '<span>Tap to expand</span>';
                        tapIndicator.style.cssText = `
                            position: absolute;
                            bottom: -20px;
                            right: 0;
                            font-size: 0.8rem;
                            color: var(--heading-color);
                            opacity: 0.7;
                            pointer-events: none;
                        `;
                        item.appendChild(tapIndicator);
                        
                        // Hide indicator after first interaction
                        item.addEventListener('click', function() {
                            tapIndicator.style.display = 'none';
                        }, { once: true });
                    });
                }
                
                // Optimize parallax for touch devices
                if (isTouchDevice) {
                    // Use simpler parallax implementation for touch devices
                    function simpleParallax() {
                        const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
                        document.querySelector('.layer-1').style.transform = `translateY(${scrollTop * 0.05}px)`;
                        document.querySelector('.layer-2').style.transform = `translateY(${scrollTop * 0.02}px)`;
                        document.querySelector('.layer-3').style.transform = `translateY(${scrollTop * 0.01}px)`;
                    }
                    
                    // Replace existing parallax with simpler version
                    window.removeEventListener('scroll', handleParallaxScroll);
                    window.addEventListener('scroll', simpleParallax, { passive: true });
                }
            }
            
            // Initialize mobile experience
            setupMobileExperience();
            
            // Handle orientation changes
            window.addEventListener('orientationchange', function() {
                // Small delay to allow orientation to complete
                setTimeout(function() {
                    setupMobileExperience();
                }, 300);
            });
            
            // Add touch feedback
            if (isTouchDevice) {
                timelineItemsEnhanced.forEach(item => {
                    item.addEventListener('touchstart', function() {
                        this.style.opacity = '0.9';
                    });
                    
                    item.addEventListener('touchend', function() {
                        this.style.opacity = '1';
                    });
                });
            }
            
            // Optimize scroll performance on mobile
            if (isMobile) {
                // Use a more efficient scroll handler for animations
                const optimizedScrollCheck = () => {
                    requestAnimationFrame(() => {
                        timelineItemsEnhanced.forEach(item => {
                            const rect = item.getBoundingClientRect();
                            const isVisible = rect.top < window.innerHeight * 0.8 && rect.bottom > 0;
                            
                            if (isVisible && !item.classList.contains('visible')) {
                                item.classList.add('visible');
                            }
                        });
                    });
                };
                
                // Replace complex scroll animation with simpler one
                window.addEventListener('scroll', optimizedScrollCheck, { passive: true });
                optimizedScrollCheck(); // Initial check
            }
            
            // Ensure timeline dots are visible on devices without hover
            if (isTouchDevice) {
                timelineItemsEnhanced.forEach(item => {
                    const dot = item.querySelector('::before');
                    if (dot) {
                        dot.style.boxShadow = '0 0 0 4px var(--bg-color), 0 0 15px var(--console-glow)';
                    }
                });
            }
        });
    </script>
</body>
</html> 